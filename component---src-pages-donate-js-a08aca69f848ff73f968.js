(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{Kfvu:function(e,t,n){"use strict";var o=n("TqRt");t.__esModule=!0,t.OutboundLink=u,t.trackCustomEvent=function(e){var t=e.category,n=e.action,o=e.label,a=e.value,r=e.nonInteraction,c=void 0===r||r,i=e.transport,u=e.hitCallback,s=e.callbackTimeout,d=void 0===s?1e3:s;if("undefined"!=typeof window&&window.ga){var b={eventCategory:t,eventAction:n,eventLabel:o,eventValue:a,nonInteraction:c,transport:i};u&&"function"==typeof u&&(b.hitCallback=l(u,d)),window.ga("send","event",b)}};var a=o(n("pVnL")),r=o(n("8OQS")),c=o(n("q1tI")),i=o(n("17x9")),l=function(e,t){void 0===t&&(t=1e3);var n=!1,o=function(){n||(n=!0,e())};return setTimeout(o,t),o};function u(e){var t=e.eventCategory,n=e.eventAction,o=e.eventLabel,i=e.eventValue,l=(0,r.default)(e,["eventCategory","eventAction","eventLabel","eventValue"]);return c.default.createElement("a",(0,a.default)({},l,{onClick:function(a){"function"==typeof e.onClick&&e.onClick(a);var r=!0;return(0!==a.button||a.altKey||a.ctrlKey||a.metaKey||a.shiftKey||a.defaultPrevented)&&(r=!1),e.target&&"_self"!==e.target.toLowerCase()&&(r=!1),window.ga?window.ga("send","event",{eventCategory:t||"Outbound Link",eventAction:n||"click",eventLabel:o||e.href,eventValue:i,transport:r?"beacon":"",hitCallback:function(){r&&(document.location=e.href)}}):r&&(document.location=e.href),!1}}))}u.propTypes={href:i.default.string,target:i.default.string,eventCategory:i.default.string,eventAction:i.default.string,eventLabel:i.default.string,eventValue:i.default.number,onClick:i.default.func}},Klji:function(e,t,n){"use strict";n.r(t);var o=n("q1tI"),a=n("Wbzz"),r=(n("VRzm"),n("Btvt"),"https://js.stripe.com/v3"),c=function(e){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"1.3.1"})},i=Promise.resolve().then((function(){if("undefined"==typeof window)return null;if(window.Stripe)return window.Stripe;var e=document.querySelector('script[src="'.concat(r,'"], script[src="').concat(r,'/"]'))||function(){var e=document.createElement("script");e.src=r;var t=document.head||document.body;if(!t)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return t.appendChild(e),e}();return new Promise((function(t,n){e.addEventListener("load",(function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))})),e.addEventListener("error",(function(){n(new Error("Failed to load Stripe.js"))}))}))})),l=!1;i.catch((function(e){l||console.warn(e)}));var u=n("Kfvu"),s=n("qKvR"),d={name:"1s1hrrb",styles:"padding:1em;border:1px solid pink"};var b=({visible:e,children:t})=>e?Object(s.c)("div",{css:d},Object(s.c)("div",null,Object(s.c)("small",null,"This message is only displayed in testing mode. Testing mode has been enabled for demonstration purposes on unofficial.wrfg.org.")),t):null,f=n("Bl7J"),p=n("vV6U"),v=n("V0Ns"),m=n("20nU"),h=n("bLEx");n.d(t,"query",(function(){return O}));const y=e=>new URL(e,document.URL).href;t.default=({data:e})=>{const t=e.allMarkdownRemark.edges.map(e=>e.node).map(h.a.factory),[{isLoading:n},r]=Object(o.useState)({isLoading:!0}),d=Object(o.useRef)(null),{current:O}=d,{stripe:w}=Object(m.c)();Object(o.useEffect)(()=>{(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return l=!0,i.then((function(e){if(null===e)return null;var n=e.apply(void 0,t);return c(n),n}))})(w.publishableApiKey).then(e=>{d.current=e,r(e=>({...e,isLoading:!1}))})},[w.publishableApiKey]);return Object(s.c)(f.a,{title:"Donate"},Object(s.c)(p.j,null,Object(s.c)("h2",null,"Donate"),Object(s.c)("p",null,"Every donation, no matter the size, is important and appreciated!"),Object(s.c)(v.e,{initialValues:{frequency:"ONCE",amount:"2000",inSupportOf:"station",customAmount:4e3},onSubmit:async e=>{if(n)return;const t="other"===e.amount?e.customAmount:e.amount;Object(u.trackCustomEvent)({category:"Donation",action:"Submit",label:"ONCE"===e.frequency?"One time":"Monthly",value:t}),Object(u.trackCustomEvent)({category:"Donation",action:"In support of",label:e.inSupportOf});const o=await fetch(((e,t)=>Object.entries(t).reduce((e,[t,n])=>(e.searchParams.set(t,n),e),new URL(e)))("https://us-central1-lively-wave-274720.cloudfunctions.net/function-1",{amount:t,successUrl:y("/thank-you"),cancelUrl:y("/donate"),frequency:e.frequency})).then(e=>e.json());return O.redirectToCheckout({sessionId:o.id})}},Object(s.c)(v.f,{name:"frequency",label:"Select donation frequency",presentation:v.a,options:[{value:"ONCE",label:"One time"},{value:"MONTHLY",label:"Monthly"}]}),Object(s.c)(v.b.Consumer,null,({values:e})=>Object(s.c)(v.f,{name:"amount",label:"Select amount",presentation:v.a,options:[{value:"2000",label:"$20"},{value:"4000",label:"$40"},{value:"8930",label:"$89.30"},{value:"12000",label:"$120"},{value:"37500",label:"$375"},{value:"50000",label:"$500"},{value:"other",label:"Other",disabled:"ONCE"!==e.frequency}]})),Object(s.c)(v.b.Consumer,null,({values:e})=>"other"===e.amount&&Object(s.c)(v.f,{name:"customAmount",label:"Custom amount",presentation:v.c})),Object(s.c)(v.f,{name:"inSupportOf",label:"In support of",presentation:v.d,options:[{value:"station",label:"The station as a whole"},...t.map(e=>({value:e.title,label:e.title}))]}),Object(s.c)("div",null,Object(s.c)(v.b.Consumer,null,({values:e})=>{const t="ONCE"!==e.frequency&&"other"===e.amount,o="other"===e.amount&&!e.customAmount,a=n||t||o;return Object(s.c)(v.h,{disabled:a},"Donate")}))),Object(s.c)("div",null,Object(s.c)("p",null,"Interested in donating your time or skills? Learn how you can ",Object(s.c)(a.a,{to:"/support"},"support the station"),"."),Object(s.c)("p",null,"You can also donate via phone at ",Object(s.c)("a",{href:"tel:+14045233471"},"(404) 523-3471"),", or by mailing a check to ",Object(s.c)(a.a,{to:"/about"},"our address"),".")),Object(s.c)(b,{visible:"TEST"===w.mode},"You can use credit card ",Object(s.c)("code",null,"4242 4242 4242 4242")," with any future expiration and any 3-digit CVV to submit the donation.")))};const O="2446821540"}}]);
//# sourceMappingURL=component---src-pages-donate-js-a08aca69f848ff73f968.js.map